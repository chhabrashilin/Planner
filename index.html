<!DOCTYPE html>
<html lang="en" data-theme="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Notion-level productivity platform with pages, databases, and multiple views">
    <meta name="theme-color" content="#191919">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Planner">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸ“‹</text></svg>">
    <title>Planner - Your Workspace</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Styles -->
    <link rel="stylesheet" href="styles/themes.css">
    <link rel="stylesheet" href="styles/components.css">
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/blocks.css">
    <link rel="stylesheet" href="styles/views.css">

    <style>
        body {
            font-family: 'Inter', var(--font-sans);
        }
    </style>
</head>

<body class="theme-dark">
    <div class="app-container">
        <!-- Navbar -->
        <nav class="app-navbar">
            <div class="navbar-left">
                <button class="navbar-toggle" id="sidebarToggle" aria-label="Toggle sidebar">
                    <i class="fas fa-bars"></i>
                </button>
                <div class="app-breadcrumbs" id="breadcrumbs">
                    <!-- Breadcrumbs rendered by JS -->
                </div>
            </div>
            <div class="navbar-center"></div>
            <div class="navbar-right">
                <button class="navbar-btn" id="searchBtn" aria-label="Search" data-tooltip="Search (Ctrl+K)">
                    <i class="fas fa-search"></i>
                </button>
                <button class="navbar-btn" id="themeBtn" aria-label="Toggle theme" data-tooltip="Toggle theme">
                    <i class="fas fa-moon"></i>
                </button>
                <button class="navbar-btn" id="moreBtn" aria-label="More options" data-tooltip="More options">
                    <i class="fas fa-ellipsis-h"></i>
                </button>
            </div>
        </nav>

        <div class="app-body">
            <!-- Sidebar -->
            <aside class="app-sidebar" id="sidebar">
                <!-- Sidebar content rendered by JS -->
            </aside>

            <!-- Main Content -->
            <main class="app-main" id="mainContent">
                <div class="page-container" id="pageContainer">
                    <!-- Page Cover (optional) -->
                    <div class="page-cover" id="pageCover" style="display: none;">
                        <img src="" alt="Page cover" id="pageCoverImg">
                        <div class="page-cover-overlay">
                            <button class="btn btn-sm btn-ghost" id="changeCoverBtn">
                                <i class="fas fa-image"></i> Change cover
                            </button>
                        </div>
                    </div>

                    <!-- Page Header -->
                    <div class="page-header" id="pageHeader">
                        <div class="page-icon" id="pageIcon" role="button" aria-label="Change icon"
                            data-tooltip="Click to change icon">
                            ðŸ“„
                        </div>
                        <h1 class="page-title" id="pageTitle" contenteditable="true" placeholder="Untitled"></h1>
                    </div>

                    <!-- Page Content (Blocks) -->
                    <div class="page-content" id="pageContent">
                        <!-- Blocks rendered by JS -->
                        <div class="block-placeholder" id="blockPlaceholder">
                            <span class="block-placeholder-text">Press '/' for commands, or start typing...</span>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Emoji Picker Modal -->
    <div class="modal-overlay" id="emojiPickerModal" role="dialog" aria-modal="true" aria-labelledby="emojiPickerTitle">
        <div class="modal" style="max-width: 360px;">
            <div class="modal-header">
                <h3 class="modal-title" id="emojiPickerTitle">Choose an icon</h3>
                <button class="modal-close" data-close-modal aria-label="Close icon picker">
                    <i class="fas fa-times" aria-hidden="true"></i>
                </button>
            </div>
            <div class="modal-body">
                <input type="text" class="form-input" id="emojiSearch" placeholder="Search emoji..." aria-label="Search emojis">
                <div class="emoji-grid" id="emojiGrid" role="listbox" aria-label="Available emojis">
                    <!-- Emoji grid generated by JS -->
                </div>
            </div>
        </div>
    </div>

    <!-- Block Menu (Slash Commands) -->
    <div class="block-menu" id="blockMenu" style="display: none;" role="listbox" aria-label="Block types">
        <div class="block-menu-header">
            <span>Add blocks</span>
        </div>
        <div class="block-menu-items" id="blockMenuItems" role="group">
            <!-- Block types rendered by JS -->
        </div>
    </div>

    <!-- Formatting Toolbar -->
    <div class="format-toolbar" id="formatToolbar" style="display: none;" role="toolbar" aria-label="Text formatting">
        <button class="format-btn" data-format="bold" data-tooltip="Bold (Ctrl+B)" aria-label="Bold">
            <i class="fas fa-bold" aria-hidden="true"></i>
        </button>
        <button class="format-btn" data-format="italic" data-tooltip="Italic (Ctrl+I)" aria-label="Italic">
            <i class="fas fa-italic" aria-hidden="true"></i>
        </button>
        <button class="format-btn" data-format="underline" data-tooltip="Underline (Ctrl+U)" aria-label="Underline">
            <i class="fas fa-underline" aria-hidden="true"></i>
        </button>
        <button class="format-btn" data-format="strikethrough" data-tooltip="Strikethrough" aria-label="Strikethrough">
            <i class="fas fa-strikethrough" aria-hidden="true"></i>
        </button>
        <div class="format-divider" role="separator"></div>
        <button class="format-btn" data-format="code" data-tooltip="Code" aria-label="Inline code">
            <i class="fas fa-code" aria-hidden="true"></i>
        </button>
        <button class="format-btn" data-format="link" data-tooltip="Link (Ctrl+K)" aria-label="Insert link">
            <i class="fas fa-link" aria-hidden="true"></i>
        </button>
        <div class="format-divider" role="separator"></div>
        <button class="format-btn" data-format="highlight" data-tooltip="Highlight" aria-label="Highlight text">
            <i class="fas fa-highlighter" aria-hidden="true"></i>
        </button>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Scripts -->
    <script src="js/core.js"></script>
    <script src="js/data.js"></script>
    <script src="js/navigation.js"></script>
    <script src="js/blocks.js"></script>
    <script src="js/editor.js"></script>
    <script src="js/page.js"></script>

    <!-- Initialize App -->
    <script>
        // Initialize the application
        window.app = new PlannerApp();
    </script>
</body>

</html>